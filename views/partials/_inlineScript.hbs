<script>
    $(function () {
        $('button[type="submit"]').prop('disabled', true)
        $('#configure-instance input[required]').on('keyup change', function () {
            let isDisabled = false
            $('#configure-instance input[required]').each(function () {
                if ($(this).val() == '') {
                    isDisabled = true
                    return false
                }
            })
            $('button[type="submit"]').prop("disabled", isDisabled)
        })
    })
    window.onload = function () {
        const sendMessage = (data) => {
            window.opener.postMessage('heimdall unload', "*")
        }
        window.addEventListener('beforeunload', sendMessage)
    }
</script>